<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Å—Ö–∞–Ω–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å –∂“Ø–π–µ—Å—ñ</title>
    <style>
        :root {
            --primary: #ee5a24;
            --secondary: #2c3e50;
            --light: #ecf0f1;
            --delivery: #9b59b6;
            --takeaway: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: #f5f5f5;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .login-section {
            padding: 30px;
            text-align: center;
            background: var(--light);
        }
        
        .role-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .role-btn {
            padding: 20px;
            border: none;
            border-radius: 10px;
            background: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }
        
        .role-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .role-btn.customer {
            background: #e8f6f3;
            border-color: #1abc9c;
        }
        
        .role-btn.cashier {
            background: #fef9e7;
            border-color: var(--warning);
        }
        
        .role-btn.chef {
            background: #fbeeee;
            border-color: var(--danger);
        }
        
        .role-btn.admin {
            background: #eaf2f8;
            border-color: var(--takeaway);
        }
        
        .panel {
            display: none;
            padding: 20px;
            min-height: 600px;
        }
        
        .panel.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        
        .category-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .category-btn {
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            background: white;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .menu-section {
            margin: 30px 0;
            display: none;
        }
        
        .menu-section.active {
            display: block;
        }
        
        .section-title {
            font-size: 24px;
            color: var(--secondary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .menu-item {
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            background: white;
            transition: all 0.3s;
            cursor: pointer;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .menu-item:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }
        
        .menu-item-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
        }
        
        .price {
            color: var(--primary);
            font-weight: bold;
            font-size: 1.4em;
            margin: 10px 0;
        }
        
        .cart {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px dashed #ddd;
        }
        
        .order-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 5px solid var(--primary);
        }
        
        .status-pending { border-left-color: var(--warning); }
        .status-cooking { border-left-color: var(--takeaway); }
        .status-ready { border-left-color: var(--success); }
        
        .table-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .table-btn {
            padding: 25px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .table-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .table-btn.delivery {
            border-color: var(--delivery);
        }
        
        .table-btn.delivery.active {
            background: var(--delivery);
            color: white;
        }
        
        .table-btn.takeaway {
            border-color: var(--takeaway);
        }
        
        .table-btn.takeaway.active {
            background: var(--takeaway);
            color: white;
        }
        
        .admin-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .admin-form input, .admin-form select, .admin-form button {
            margin: 5px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .password-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        .password-input {
            padding: 12px;
            margin: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            width: 200px;
        }
        
        .error-message {
            color: var(--danger);
            margin: 10px 0;
            display: none;
        }
        
        .customer-info {
            background: #e8f6f3;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }
        
        .customer-info input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .table-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .category-buttons {
                flex-direction: column;
            }
            
            .admin-form input, .admin-form select {
                width: 100%;
                margin: 5px 0;
            }
            
            .role-buttons {
                grid-template-columns: 1fr;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçΩÔ∏è –ê—Å—Ö–∞–Ω–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å –∂“Ø–π–µ—Å—ñ</h1>
            <p>–°–∞–Ω–∞—Ç—Ç–∞—Ä“ì–∞ –±”©–ª—ñ–Ω–≥–µ–Ω –º–µ–Ω—é</p>
        </div>
        
        <!-- –ö–Ü–†–£ –ë”®–õ–Ü–ú–Ü -->
        <div id="loginPanel" class="panel active">
            <div class="login-section">
                <h2>–†–æ–ª–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑</h2>
                <div class="role-buttons">
                    <button class="role-btn customer" onclick="selectRole('customer')">
                        üë®‚Äçüíº –¢“±—Ç—ã–Ω—É—à—ã
                    </button>
                    <button class="role-btn cashier" onclick="selectRole('cashier')">
                        üí∞ –ö–∞—Å—Å–∏—Ä
                    </button>
                    <button class="role-btn chef" onclick="selectRole('chef')">
                        üë®‚Äçüç≥ –ê—Å–ø–∞–∑
                    </button>
                    <button class="role-btn admin" onclick="selectRole('admin')">
                        ‚öôÔ∏è ”ò–∫—ñ–º—à—ñ
                    </button>
                </div>
                
                <!-- –ü–ê–†–û–õ–¨ –ë”®–õ–Ü–ú–Ü -->
                <div id="passwordSection" class="password-section" style="display: none;">
                    <h3 id="passwordTitle">–ü–∞—Ä–æ–ª—å–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑</h3>
                    <input type="password" id="passwordInput" class="password-input" 
                           placeholder="–ü–∞—Ä–æ–ª—å..." onkeypress="handlePasswordEnter(event)">
                    <br>
                    <button class="role-btn" onclick="checkPassword()">–ö—ñ—Ä—É</button>
                    <button class="role-btn" onclick="cancelLogin()" style="background: #95a5a6;">–ë–∞—Å —Ç–∞—Ä—Ç—É</button>
                    <div id="errorMessage" class="error-message">“ö–∞—Ç–µ –ø–∞—Ä–æ–ª—å!</div>
                </div>
                
                <p><strong>–¢“±—Ç—ã–Ω—É—à—ã–ª–∞—Ä“ì–∞ –ø–∞—Ä–æ–ª—å “õ–∞–∂–µ—Ç –µ–º–µ—Å</strong></p>
            </div>
        </div>
        
        <!-- –¢“∞–¢–´–ù–£–®–´ –ü–ê–ù–ï–õ–Ü -->
        <div id="customerPanel" class="panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>–¢–∞“ì–∞–º–¥–∞—Ä –º–µ–Ω—é—Å—ñ</h2>
                <button class="role-btn" onclick="logout()">‚Üê –ê—Ä—Ç“õ–∞</button>
            </div>
            
            <!-- –¢–ê–ü–°–´–†–´–° –¢“Æ–†–õ–ï–†–Ü -->
            <div style="margin-bottom: 20px;">
                <h3>–¢–∞–ø—Å—ã—Ä—ã—Å —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑:</h3>
                <div class="table-grid">
                    <!-- “Æ—Å—Ç–µ–ª–¥–µ—Ä -->
                    <button class="table-btn" onclick="selectTable(1)">1-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(2)">2-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(3)">3-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(4)">4-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(5)">5-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(6)">6-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(7)">7-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(8)">8-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(9)">9-“Ø—Å—Ç–µ–ª</button>
                    <button class="table-btn" onclick="selectTable(10)">10-“Ø—Å—Ç–µ–ª</button>
                    
                    <!-- –°—ã—Ä—Ç—Ç–∞–Ω —Ç–∞–ø—Å—ã—Ä—ã—Å –æ–ø—Ü–∏—è–ª–∞—Ä—ã -->
                    <button class="table-btn delivery" onclick="selectDelivery()">üöö –ñ–µ—Ç–∫—ñ–∑—É</button>
                    <button class="table-btn takeaway" onclick="selectTakeaway()">üì¶ –°—ã—Ä—Ç—Ç–∞–Ω –∞–ª—É</button>
                </div>
            </div>
            
            <!-- –¢“∞–¢–´–ù–£–®–´ –ê“ö–ü–ê–†–ê–¢–´ -->
            <div id="customerInfoSection" class="customer-info">
                <h3>–¢–æ–ª—ã“õ –∞“õ–ø–∞—Ä–∞—Ç—Ç—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:</h3>
                <input type="text" id="customerName" placeholder="–ê—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑">
                <input type="tel" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ">
                <input type="text" id="customerAddress" placeholder="–ú–µ–∫–µ–Ω-–∂–∞–π (–∂–µ—Ç–∫—ñ–∑—É “Ø—à—ñ–Ω)">
                <input type="text" id="customerNotes" placeholder="–ï—Å–∫–µ—Ä—Ç—É–ª–µ—Ä">
            </div>
            
            <!-- –°–ê–ù–ê–¢–¢–ê–† –ë”ò–¢–Ü–†–ú–ï–õ–ï–†–Ü -->
            <div class="category-buttons" id="categoryButtons">
                <!-- –°–∞–Ω–∞—Ç –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã –º“±–Ω–¥–∞ —Ç–æ–ª—Ç—ã—Ä—ã–ª–∞–¥—ã -->
            </div>
            
            <!-- –ú–ï–ù–Æ –°–ê–ù–ê–¢–¢–ê–†–´ -->
            <div id="menuSections">
                <!-- –°–∞–Ω–∞—Ç—Ç–∞—Ä –±–æ–π—ã–Ω—à–∞ –º–µ–Ω—é –º“±–Ω–¥–∞ —Ç–æ–ª—Ç—ã—Ä—ã–ª–∞–¥—ã -->
            </div>
            
            <!-- –°–ï–ë–ï–¢ -->
            <div class="cart">
                <h3>üõí –°–µ–±–µ—Ç (<span id="currentOrderType">-</span>)</h3>
                <div id="customerCart">
                    <p>–¢–∞“ì–∞–º–¥–∞—Ä ”ô–ª—ñ “õ–æ—Å—ã–ª–º–∞“ì–∞–Ω</p>
                </div>
                <button class="role-btn customer" onclick="placeOrder()" style="margin-top: 15px;">
                    ‚úÖ –¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—É
                </button>
            </div>
        </div>
        
        <!-- –ö–ê–°–°–ò–† –ü–ê–ù–ï–õ–Ü -->
        <div id="cashierPanel" class="panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>üí∞ –ö–∞—Å—Å–∏—Ä –ø–∞–Ω–µ–ª—ñ</h2>
                <button class="role-btn" onclick="logout()">‚Üê –ê—Ä—Ç“õ–∞</button>
            </div>
            
            <div id="cashierOrders">
                <!-- –¢–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä –æ—Å—ã–Ω–¥–∞ –∫”©—Ä—Å–µ—Ç—ñ–ª–µ–¥—ñ -->
            </div>
        </div>
        
        <!-- –ê–°–ü–ê–ó –ü–ê–ù–ï–õ–Ü -->
        <div id="chefPanel" class="panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>üë®‚Äçüç≥ –ê—Å–ø–∞–∑ –ø–∞–Ω–µ–ª—ñ</h2>
                <button class="role-btn" onclick="logout()">‚Üê –ê—Ä—Ç“õ–∞</button>
            </div>
            
            <!-- –¢–ê–ü–°–´–†–´–° –§–ò–õ–¨–¢–†–õ–ï–†–Ü -->
            <div style="margin-bottom: 20px;">
                <button class="role-btn" onclick="filterOrders('all')">–ë–∞—Ä–ª—ã“ì—ã</button>
                <button class="role-btn" onclick="filterOrders('pending')">–ö“Ø—Ç—ñ–ª—É–¥–µ</button>
                <button class="role-btn" onclick="filterOrders('cooking')">–î–∞–π—ã–Ω–¥–∞–ª—É–¥–∞</button>
                <button class="role-btn" onclick="filterOrders('ready')">–î–∞–π—ã–Ω</button>
            </div>
            
            <div id="chefOrders">
                <!-- –¢–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä —Ç—ñ–∑—ñ–º—ñ -->
            </div>
        </div>
        
        <!-- ”ò–ö–Ü–ú–®–Ü –ü–ê–ù–ï–õ–Ü -->
        <div id="adminPanel" class="panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>‚öôÔ∏è ”ò–∫—ñ–º—à—ñ –ø–∞–Ω–µ–ª—ñ</h2>
                <button class="role-btn" onclick="logout()">‚Üê –ê—Ä—Ç“õ–∞</button>
            </div>
            
            <div class="admin-form">
                <h3>‚ûï –ñ–∞“£–∞ —Ç–∞“ì–∞–º “õ–æ—Å—É</h3>
                <input type="text" id="newItemName" placeholder="–¢–∞“ì–∞–º –∞—Ç—ã">
                <input type="number" id="newItemPrice" placeholder="–ë–∞“ì–∞—Å—ã">
                <select id="categorySelect">
                    <option value="">–°–∞–Ω–∞—Ç—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑</option>
                </select>
                <br>
                <button class="role-btn admin" onclick="addNewItem()">
                    –¢–∞“ì–∞–º–¥—ã “õ–æ—Å—É
                </button>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div>
                    <h3>üìä –ë“Ø–≥—ñ–Ω–≥—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                        <p>–¢–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä —Å–∞–Ω—ã: <strong id="todayOrders">0</strong></p>
                        <p>“Æ—Å—Ç–µ–ª —Ç–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä—ã: <strong id="tableOrders">0</strong></p>
                        <p>–ñ–µ—Ç–∫—ñ–∑—É —Ç–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä—ã: <strong id="deliveryOrders">0</strong></p>
                        <p>–°—ã—Ä—Ç—Ç–∞–Ω –∞–ª—É —Ç–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä—ã: <strong id="takeawayOrders">0</strong></p>
                        <p>–ñ–∞–ª–ø—ã –∫—ñ—Ä—ñ—Å: <strong id="totalIncome">0 ‚Ç∏</strong></p>
                    </div>
                </div>
                
                <div>
                    <h3>üîí “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                        <p>–°–æ“£“ì—ã –∫—ñ—Ä—É: <strong id="lastLogin">-</strong></p>
                        <button class="role-btn" onclick="changePassword()" style="background: #e74c3c; color: white;">
                            –ü–∞—Ä–æ–ª—å–¥—ñ ”©–∑–≥–µ—Ä—Ç—É
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <h3>üìã –¢–∞“ì–∞–º–¥–∞—Ä —Ç—ñ–∑—ñ–º—ñ</h3>
                <div id="adminMenuList" class="menu-grid"></div>
            </div>
        </div>
    </div>

    <script>
        // –°–ê–ù–ê–¢–¢–ê–† –¢–Ü–ó–Ü–ú–Ü
        const categories = [
            { id: 'laghman', name: 'üçú –õ–∞“ì–º–∞–Ω–¥–∞—Ä', emoji: 'üçú' },
            { id: 'kuyrdak', name: 'üçñ “ö—É—ã—Ä–¥–∞“õ—Ç–∞—Ä', emoji: 'üçñ' },
            { id: 'soups', name: 'üç≤ –°“±–π—ã“õ —Ç–∞“ì–∞–º–¥–∞—Ä', emoji: 'üç≤' },
            { id: 'shashlik', name: 'üç¢ –®–∞—à–ª—ã“õ—Ç–∞—Ä', emoji: 'üç¢' },
            { id: 'salads', name: 'ü•ó –°—É—ã“õ —Å–∞–ª–∞—Ç—Ç–∞—Ä', emoji: 'ü•ó' },
            { id: 'drinks', name: 'ü•§ –°—É—Å—ã–Ω–¥–∞—Ä', emoji: 'ü•§' },
            { id: 'desserts', name: 'üç∞ –¢”ô—Ç—Ç—ñ–ª–µ—Ä', emoji: 'üç∞' }
        ];

        // –ü–ê–†–û–õ–¨–î–ï–† –ë–ê–ó–ê–°–´
        let passwords = {
            'cashier': 'kassa123',
            'chef': 'aspaz456', 
            'admin': 'admin789'
        };

        let currentSelectedRole = null;
        let loginAttempts = {};
        let menu = JSON.parse(localStorage.getItem('asxana_menu')) || [];
        let orders = JSON.parse(localStorage.getItem('asxana_orders')) || [];
        let currentTable = null;
        let currentCart = [];
        let currentOrderType = null;
        let currentCustomerInfo = {};

        // –ë–ê–°–¢–ê–ü“ö–´ –î–ï–†–ï–ö–¢–ï–†–î–Ü –ñ“Æ–ö–¢–ï–£
        function loadInitialData() {
            // –ü–∞—Ä–æ–ª—å–¥–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É
            const savedPasswords = localStorage.getItem('asxana_passwords');
            if (savedPasswords) {
                try {
                    const parsed = JSON.parse(savedPasswords);
                    passwords = { ...passwords, ...parsed };
                } catch (e) {
                    console.error('–ü–∞—Ä–æ–ª—å–¥–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ:', e);
                }
            }
            
            // –ë–∞—Å—Ç–∞–ø“õ—ã —Ç–∞“ì–∞–º–¥–∞—Ä–¥—ã “õ–æ—Å—É
            if (menu.length === 0) {
                menu = [
                    { id: 1, name: '“ö–æ–π –µ—Ç—ñ–º–µ–Ω –ª–∞“ì–º–∞–Ω', price: 2200, category: 'laghman', image: 'üçú', hasCustomImage: false },
                    { id: 2, name: '“ö“±—Å –µ—Ç—ñ–º–µ–Ω –ª–∞“ì–º–∞–Ω', price: 2000, category: 'laghman', image: 'üçú', hasCustomImage: false },
                    { id: 3, name: '–ë”ô–ª—ñ—à', price: 1800, category: 'kuyrdak', image: 'ü•Æ', hasCustomImage: false },
                    { id: 4, name: '“ö–æ–π —Å–æ—Ä–ø–∞—Å—ã', price: 1500, category: 'soups', image: 'üç≤', hasCustomImage: false },
                    { id: 5, name: '–®–∞—à–ª—ã“õ', price: 2200, category: 'shashlik', image: 'üç¢', hasCustomImage: false },
                    { id: 6, name: '–ê–π—Å–±–µ—Ä–≥ —Å–∞–ª–∞—Ç—ã', price: 1200, category: 'salads', image: 'ü•ó', hasCustomImage: false },
                    { id: 7, name: '–®–∞–π', price: 300, category: 'drinks', image: 'üçµ', hasCustomImage: false },
                    { id: 8, name: '–¢–æ—Ä—Ç', price: 800, category: 'desserts', image: 'üç∞', hasCustomImage: false }
                ];
                localStorage.setItem('asxana_menu', JSON.stringify(menu));
            }
        }

        // –†–û–õ–î–Ü –¢–ê“¢–î–ê–£
        function selectRole(role) {
            currentSelectedRole = role;
            
            if (role === 'customer') {
                login('customer');
                return;
            }
            
            document.getElementById('passwordSection').style.display = 'block';
            document.getElementById('passwordTitle').textContent = getRoleName(role) + ' –ø–∞—Ä–æ–ª—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑';
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('passwordInput').focus();
        }

        // –ü–ê–†–û–õ–¨–î–Ü –¢–ï–ö–°–ï–†–£
        function checkPassword() {
            const enteredPassword = document.getElementById('passwordInput').value;
            const correctPassword = passwords[currentSelectedRole];
            
            if (!loginAttempts[currentSelectedRole]) {
                loginAttempts[currentSelectedRole] = 0;
            }
            
            if (enteredPassword === correctPassword) {
                loginAttempts[currentSelectedRole] = 0;
                document.getElementById('errorMessage').style.display = 'none';
                login(currentSelectedRole);
            } else {
                loginAttempts[currentSelectedRole]++;
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        }

        // –ö–Ü–†–£ –§–£–ù–ö–¶–ò–Ø–°–´
        function login(role) {
            document.getElementById('passwordSection').style.display = 'none';
            document.getElementById('loginPanel').classList.remove('active');
            document.getElementById(role + 'Panel').classList.add('active');
            
            if (role === 'customer') {
                loadCustomerMenu();
                resetOrderSelection();
            } else if (role === 'chef') {
                loadChefOrders();
            } else if (role === 'admin') {
                loadAdminPanel();
            } else if (role === 'cashier') {
                loadCashierPanel();
            }
            
            localStorage.setItem('lastLogin', new Date().toLocaleString('kk-KZ'));
        }

        // –¢“∞–¢–´–ù–£–®–´ –ú–ï–ù–Æ–°–´–ù –ñ“Æ–ö–¢–ï–£
        function loadCustomerMenu() {
            loadCategories();
            loadMenuSections();
        }

        // –°–ê–ù–ê–¢ –ë–ê–¢–´–†–ú–ê–õ–ê–†–´–ù –ñ“Æ–ö–¢–ï–£
        function loadCategories() {
            const categoryButtons = document.getElementById('categoryButtons');
            categoryButtons.innerHTML = '';
            
            const allButton = document.createElement('button');
            allButton.className = 'category-btn active';
            allButton.textContent = 'üìã –ë–∞—Ä–ª—ã“ì—ã';
            allButton.onclick = () => filterMenuByCategory('all');
            categoryButtons.appendChild(allButton);
            
            categories.forEach(category => {
                const button = document.createElement('button');
                button.className = 'category-btn';
                button.textContent = category.name;
                button.onclick = () => filterMenuByCategory(category.id);
                categoryButtons.appendChild(button);
            });
        }

        // –ú–ï–ù–Æ –ë”®–õ–Ü–ú–î–ï–†–Ü–ù –ñ“Æ–ö–¢–ï–£
        function loadMenuSections() {
            const menuSections = document.getElementById('menuSections');
            menuSections.innerHTML = '';
            
            categories.forEach(category => {
                const section = document.createElement('div');
                section.className = 'menu-section';
                section.id = section-${category.id};
                
                const sectionTitle = document.createElement('h3');
                sectionTitle.className = 'section-title';
                sectionTitle.textContent = category.name;
                section.appendChild(sectionTitle);
                
                const menuGrid = document.createElement('div');
                menuGrid.className = 'menu-grid';
                menuGrid.id = menu-${category.id};
                section.appendChild(menuGrid);
                
                menuSections.appendChild(section);
            });
            
            filterMenuByCategory('all');
        }

        // –ú–ï–ù–Æ–ù–´ –°–ê–ù–ê–¢ –ë–û–ô–´–ù–®–ê –°“Æ–ó–£
        function filterMenuByCategory(categoryId) {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const buttons = document.querySelectorAll('.category-btn');
            if (categoryId === 'all') {
                buttons[0].classList.add('active');
            }
            
            document.querySelectorAll('.menu-section').forEach(section => {
                section.classList.remove('active');
            });
            
            if (categoryId === 'all') {
                document.querySelectorAll('.menu-section').forEach(section => {
                    section.classList.add('active');
                });
            } else {
                const activeSection = document.getElementById(section-${categoryId});
                if (activeSection) activeSection.classList.add('active');
            }
            
            categories.forEach(category => {
                const menuGrid = document.getElementById(menu-${category.id});
                if (menuGrid) {
                    menuGrid.innerHTML = '';
                    
                    const categoryItems = menu.filter(item => item.category === category.id);
                    
                    if (categoryItems.length === 0) {
                        menuGrid.innerHTML = '<p style="text-align: center; padding: 40px; color: #999;">”ò–∑—ñ—Ä—à–µ —Ç–∞“ì–∞–º –∂–æ“õ</p>';
                        return;
                    }
                    
                    categoryItems.forEach(item => {
                        const menuItem = document.createElement('div');
                        menuItem.className = 'menu-item';
                        menuItem.onclick = () => addToCart(item);
                        
                        let imageHtml = '';
                        if (item.hasCustomImage && item.image.startsWith('data:image')) {
                            imageHtml = <img src="${item.image}" alt="${item.name}">;
                        } else {
                            imageHtml = <div style="font-size: 60px; margin-bottom: 15px;">${item.image}</div>;
                        }
                        
                        menuItem.innerHTML = `
                            <div class="menu-item-image">
                                ${imageHtml}
                            </div>
                            <h3>${item.name}</h3>
                            <div class="price">${item.price} ‚Ç∏</div>
                            <button class="role-btn customer" style="margin-top: 10px;">–°–µ–±–µ—Ç–∫–µ “õ–æ—Å—É</button>
                        `;
                        menuGrid.appendChild(menuItem);
                    });
                }
            });
        }

        // –¢–ê–ü–°–´–†–´–° –¢“Æ–†–Ü–ù –¢–ê“¢–î–ê–£
        function selectTable(tableNumber) {
            currentTable = tableNumber;
            currentOrderType = 'table';
            document.getElementById('currentOrderType').textContent = ${tableNumber}-“Ø—Å—Ç–µ–ª;
            document.getElementById('customerInfoSection').style.display = 'none';
            document.querySelectorAll('.table-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function selectDelivery() {
            currentOrderType = 'delivery';
            currentTable = null;
            document.getElementById('currentOrderType').textContent = '–ñ–µ—Ç–∫—ñ–∑—É';
            document.getElementById('customerInfoSection').style.display = 'block';
            document.querySelectorAll('.table-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function selectTakeaway() {
            currentOrderType = 'takeaway';
            currentTable = null;
            document.getElementById('currentOrderType').textContent = '–°—ã—Ä—Ç—Ç–∞–Ω –∞–ª—É';
            document.getElementById('customerInfoSection').style.display = 'block';
            document.querySelectorAll('.table-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // –°–ï–ë–ï–¢–ö–ï “ö–û–°–£
        function addToCart(item) {
            if (!currentOrderType) {
                alert('–ê–ª–¥—ã–º–µ–Ω —Ç–∞–ø—Å—ã—Ä—ã—Å —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑!');
                return;
            }
            
            const existingItem = currentCart.find(cartItem => cartItem.id === item.id);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                currentCart.push({...item, quantity: 1});
            }
            
            updateCustomerCart();
            showNotification(${item.name} —Å–µ–±–µ—Ç–∫–µ “õ–æ—Å—ã–ª–¥—ã!);
        }

        // –•–ê–ë–ê–†–õ–ê–ú–ê –ö”®–†–°–ï–¢–£
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // –°–ï–ë–ï–¢–¢–Ü –ñ–ê“¢–ê–†–¢–£
        function updateCustomerCart() {
            const cartElement = document.getElementById('customerCart');
            
            if (currentCart.length === 0) {
                cartElement.innerHTML = '<p>–¢–∞“ì–∞–º–¥–∞—Ä ”ô–ª—ñ “õ–æ—Å—ã–ª–º–∞“ì–∞–Ω</p>';
                return;
            }
            
            let total = 0;
            cartElement.innerHTML = '';
            
            currentCart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                        <span>${item.image} ${item.name} x ${item.quantity}</span>
                        <div>
                            <span style="margin-right: 15px;">${itemTotal} ‚Ç∏</span>
                            <button class="role-btn" onclick="removeFromCart(${index})" style="background: #e74c3c; color: white; padding: 5px 10px; font-size: 12px;">”®—à—ñ—Ä—É</button>
                        </div>
                    </div>
                `;
                cartElement.appendChild(cartItem);
            });
            
            const totalElement = document.createElement('div');
            totalElement.style.marginTop = '15px';
            totalElement.style.paddingTop = '15px';
            totalElement.style.borderTop = '2px solid #ddd';
            totalElement.innerHTML = <h3>–ë–∞—Ä–ª—ã“ì—ã: ${total} ‚Ç∏</h3>;
            cartElement.appendChild(totalElement);
        }

        // –°–ï–ë–ï–¢–¢–ï–ù ”®–®–Ü–†–£
        function removeFromCart(index) {
            currentCart.splice(index, 1);
            updateCustomerCart();
        }

        // –¢–ê–ü–°–´–†–´–° –ë–ï–†–£
        function placeOrder() {
            if (!currentOrderType || currentCart.length === 0) {
                alert('–¢–∞–ø—Å—ã—Ä—ã—Å —Ç“Ø—Ä—ñ–Ω –∂”ô–Ω–µ —Ç–∞“ì–∞–º–¥–∞—Ä–¥—ã —Ç–∞“£–¥–∞“£—ã–∑!');
                return;
            }
            
            if (currentOrderType === 'delivery' || currentOrderType === 'takeaway') {
                const name = document.getElementById('customerName').value;
                const phone = document.getElementById('customerPhone').value;
                const address = document.getElementById('customerAddress').value;
                
                if (!name || !phone) {
                    alert('–ê—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑–¥—ñ –∂”ô–Ω–µ —Ç–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ“£—ñ–∑–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑!');
                    return;
                }
                
                if (currentOrderType === 'delivery' && !address) {
                    alert('–ñ–µ—Ç–∫—ñ–∑—É “Ø—à—ñ–Ω –º–µ–∫–µ–Ω-–∂–∞–π–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑!');
                    return;
                }
                
                currentCustomerInfo = { name, phone, address };
            }
            
            const order = {
                id: Date.now(),
                type: currentOrderType,
                table: currentTable,
                customerInfo: currentCustomerInfo,
                items: [...currentCart],
                status: 'pending',
                timestamp: new Date().toLocaleString('kk-KZ'),
                total: currentCart.reduce((sum, item) => sum + (item.price * item.quantity), 0)
            };
            
            orders.push(order);
            localStorage.setItem('asxana_orders', JSON.stringify(orders));
            
            currentCart = [];
            resetOrderSelection();
            if (document.getElementById('customerName')) {
                document.getElementById('customerName').value = '';
                document.getElementById('customerPhone').value = '';
                document.getElementById('customerAddress').value = '';
            }
            
            updateCustomerCart();
            showNotification(–¢–∞–ø—Å—ã—Ä—ã—Å ‚Ññ${order.id} —Å”ô—Ç—Ç—ñ –±–µ—Ä—ñ–ª–¥—ñ!);
        }

        // –¢–ê–ü–°–´–†–´–° –¢–ê“¢–î–ê–£–î–´ –ë–ê–°–¢–ê–ü“ö–´ –ñ–ê“í–î–ê–ô“í–ê –ö–ï–õ–¢–Ü–†–£
        function resetOrderSelection() {
            currentTable = null;
            currentOrderType = null;
            currentCustomerInfo = {};
            currentCart = [];
            document.getElementById('currentOrderType').textContent = '-';
            document.getElementById('customerInfoSection').style.display = 'none';
            document.querySelectorAll('.table-btn').forEach(btn => btn.classList.remove('active'));
            updateCustomerCart();
        }

        // –ê–°–ü–ê–ó –ü–ê–ù–ï–õ–Ü–ù –ñ“Æ–ö–¢–ï–£
        function loadChefOrders(filter = 'all') {
            const chefOrders = document.getElementById('chefOrders');
            chefOrders.innerHTML = '';
            
            let filteredOrders = orders;
            if (filter !== 'all') {
                filteredOrders = orders.filter(order => order.status === filter);
            }
            
            if (filteredOrders.length === 0) {
                chefOrders.innerHTML = '<div class="order-item"><p>‚úÖ –¢–∞–ø—Å—ã—Ä—ã—Å –∂–æ“õ</p></div>';
                return;
            }
            
            filteredOrders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = order-item status-${order.status};
                
                let itemsHtml = '';
                order.items.forEach(item => {
                    itemsHtml += <div>${item.image} ${item.name} x ${item.quantity}</div>;
                });
                
                let orderInfo = '';
                if (order.type === 'table') {
                    orderInfo = “Æ—Å—Ç–µ–ª ${order.table};
                } else if (order.type === 'delivery') {
                    orderInfo = üöö –ñ–µ—Ç–∫—ñ–∑—É - ${order.customerInfo.name};
                } else if (order.type === 'takeaway') {
                    orderInfo = üì¶ –°—ã—Ä—Ç—Ç–∞–Ω –∞–ª—É - ${order.customerInfo.name};
                }
                
                orderElement.innerHTML = `
                    <h3>üéØ –¢–∞–ø—Å—ã—Ä—ã—Å #${order.id}</h3>
                    <p><strong>${orderInfo}</strong></p>
                    ${itemsHtml}
                    <p><strong>üïí ${order.timestamp}</strong></p>
                    <p><strong>–ö“Ø–π—ñ:</strong> ${getStatusText(order.status)}</p>
                    <div style="margin-top: 10px;">
                        ${order.status === 'pending' ? 
                            <button class="role-btn chef" onclick="updateOrderStatus(${order.id}, 'cooking')">üë®‚Äçüç≥ –î–∞–π—ã–Ω–¥–∞–π –±–∞—Å—Ç–∞—É</button> : 
                            <button class="role-btn chef" onclick="updateOrderStatus(${order.id}, 'ready')">‚úÖ –î–∞–π—ã–Ω</button>
                        }
                    </div>
                `;
                chefOrders.appendChild(orderElement);
            });
        }

        // –¢–ê–ü–°–´–†–´–°–¢–ê–†–î–´ –°“Æ–ó–£
        function filterOrders(status) {
            loadChefOrders(status);
        }

        // –ö–ê–°–°–ò–† –ü–ê–ù–ï–õ–Ü–ù –ñ“Æ–ö–¢–ï–£
        function loadCashierPanel() {
            const cashierOrders = document.getElementById('cashierOrders');
            cashierOrders.innerHTML = '';
            
            const readyOrders = orders.filter(order => order.status === 'ready');
            
            if (readyOrders.length === 0) {
                cashierOrders.innerHTML = '<div class="order-item"><p>‚úÖ –î–∞–π—ã–Ω —Ç–∞–ø—Å—ã—Ä—ã—Å –∂–æ“õ</p></div>';
                return;
            }
            
            readyOrders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = order-item status-${order.type};
                
                let orderInfo = '';
                if (order.type === 'table') {
                    orderInfo = “Æ—Å—Ç–µ–ª ${order.table};
                } else if (order.type === 'delivery') {
                    orderInfo = üöö –ñ–µ—Ç–∫—ñ–∑—É - ${order.customerInfo.name};
                } else if (order.type === 'takeaway') {
                    orderInfo = üì¶ –°—ã—Ä—Ç—Ç–∞–Ω –∞–ª—É - ${order.customerInfo.name};
                }
                
                let itemsHtml = '';
                order.items.forEach(item => {
                    itemsHtml += <div>${item.image} ${item.name} x ${item.quantity} - ${item.price * item.quantity} ‚Ç∏</div>;
                });
                
                orderElement.innerHTML = `
                    <h3>üéØ –¢–∞–ø—Å—ã—Ä—ã—Å #${order.id}</h3>
                    <p><strong>${orderInfo}</strong></p>
                    ${itemsHtml}
                    <p><strong>–ë–∞—Ä–ª—ã“ì—ã: ${order.total} ‚Ç∏</strong></p>
                    <div style="margin-top: 10px;">
                        <button class="role-btn cashier" onclick="markOrderPaid(${order.id})">üí≥ –¢”©–ª–µ–º–¥—ñ —Ä–∞—Å—Ç–∞—É</button>
                    </div>
                `;
                cashierOrders.appendChild(orderElement);
            });
        }

        // ”ò–ö–Ü–ú–®–Ü –ü–ê–ù–ï–õ–Ü–ù –ñ“Æ–ö–¢–ï–£
        function loadAdminPanel() {
            loadAdminMenu();
            updateAdminStats();
            loadCategorySelect();
            
            const lastLogin = localStorage.getItem('lastLogin') || '-';
            if (document.getElementById('lastLogin')) {
                document.getElementById('lastLogin').textContent = lastLogin;
            }
        }

        // –°–ê–ù–ê–¢ –¢–ê“¢–î–ê–£–´–ù –ñ“Æ–ö–¢–ï–£
        function loadCategorySelect() {
            const categorySelect = document.getElementById('categorySelect');
            if (categorySelect) {
                categorySelect.innerHTML = '<option value="">–°–∞–Ω–∞—Ç—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑</option>';
                categories.forEach(category => {
                    categorySelect.innerHTML += <option value="${category.id}">${category.name}</option>;
                });
            }
        }

        // –ñ–ê“¢–ê –¢–ê“í–ê–ú “ö–û–°–£
        function addNewItem() {
            const name = document.getElementById('newItemName').value;
            const price = parseInt(document.getElementById('newItemPrice').value);
            const category = document.getElementById('categorySelect').value;
            
            if (!name || !price || !category) {
                alert('–ê—Ç—ã, –±–∞“ì–∞—Å—ã –∂”ô–Ω–µ —Å–∞–Ω–∞—Ç—ã–Ω —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑!');
                return;
            }
            
            const newItem = {
                id: Date.now(),
                name: name,
                price: price,
                category: category,
                image: 'üçΩÔ∏è',
                hasCustomImage: false
            };
            
            const categoryEmoji = categories.find(cat => cat.id === category)?.emoji || 'üçΩÔ∏è';
            newItem.image = categoryEmoji;
            saveNewItem(newItem);
        }

        // –ñ–ê“¢–ê –¢–ê“í–ê–ú–î–´ –°–ê“ö–¢–ê–£
        function saveNewItem(newItem) {
            menu.push(newItem);
            localStorage.setItem('asxana_menu', JSON.stringify(menu));
            
            document.getElementById('newItemName').value = '';
            document.getElementById('newItemPrice').value = '';
            document.getElementById('categorySelect').value = '';
            
            loadAdminMenu();
            loadCustomerMenu();
            showNotification('–¢–∞“ì–∞–º —Å”ô—Ç—Ç—ñ “õ–æ—Å—ã–ª–¥—ã!');
        }

        // ”ò–ö–Ü–ú–®–Ü –ú–ï–ù–Æ–°–´–ù –ñ“Æ–ö–¢–ï–£
        function loadAdminMenu() {
            const adminMenuList = document.getElementById('adminMenuList');
            if (!adminMenuList) return;
            
            adminMenuList.innerHTML = '';
            
            menu.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                
                let imageHtml = '';
                if (item.hasCustomImage && item.image.startsWith('data:image')) {
                    imageHtml = <img src="${item.image}" alt="${item.name}" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px;">;
                } else {
                    imageHtml = <div style="font-size: 40px; margin: 10px 0;">${item.image}</div>;
                }
                
                const categoryName = categories.find(cat => cat.id === item.category)?.name || '–ë–µ–ª–≥—ñ—Å—ñ–∑';
                
                menuItem.innerHTML = `
                    ${imageHtml}
                    <h4>${item.name}</h4>
                    <div class="price">${item.price} ‚Ç∏</div>
                    <p><small>–°–∞–Ω–∞—Ç: ${categoryName}</small></p>
                    <button class="role-btn" onclick="removeMenuItem(${item.id})" style="background: #e74c3c; color: white; margin-top: 10px;">
                        ”®—à—ñ—Ä—É
                    </button>
                `;
                adminMenuList.appendChild(menuItem);
            });
        }

        // –°–¢–ê–¢–ò–°–¢–ò–ö–ê–ù–´ –ñ–ê“¢–ê–†–¢–£
        function updateAdminStats() {
            const today = new Date().toDateString();
            const todayOrders = orders.filter(order => 
                new Date(order.timestamp).toDateString() === today
            );
            
            const tableOrders = todayOrders.filter(order => order.type === 'table').length;
            const deliveryOrders = todayOrders.filter(order => order.type === 'delivery').length;
            const takeawayOrders = todayOrders.filter(order => order.type === 'takeaway').length;
            
            if (document.getElementById('todayOrders')) {
                document.getElementById('todayOrders').textContent = todayOrders.length;
                document.getElementById('tableOrders').textContent = tableOrders;
                document.getElementById('deliveryOrders').textContent = deliveryOrders;
                document.getElementById('takeawayOrders').textContent = takeawayOrders;
                
                const totalIncome = todayOrders.reduce((sum, order) => sum + order.total, 0);
                document.getElementById('totalIncome').textContent = totalIncome + ' ‚Ç∏';
            }
        }

        // –¢–ê“í–ê–ú–î–´ ”®–®–Ü–†–£
        function removeMenuItem(itemId) {
            if (confirm('–ë“±–ª —Ç–∞“ì–∞–º–¥—ã ”©—à—ñ—Ä–≥—ñ“£—ñ–∑ –∫–µ–ª–µ –º–µ?')) {
                menu = menu.filter(item => item.id !== itemId);
                localStorage.setItem('asxana_menu', JSON.stringify(menu));
                loadAdminMenu();
                loadCustomerMenu();
                showNotification('–¢–∞“ì–∞–º ”©—à—ñ—Ä—ñ–ª–¥—ñ!');
            }
        }

        // –¢–ê–ü–°–´–†–´–° –°–¢–ê–¢–£–°–´–ù ”®–ó–ì–ï–†–¢–£
        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                localStorage.setItem('asxana_orders', JSON.stringify(orders));
                loadChefOrders();
                showNotification(–¢–∞–ø—Å—ã—Ä—ã—Å ${getStatusText(newStatus)} –∫“Ø–π—ñ–Ω–µ ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ);
            }
        }

        // –¢”®–õ–ï–ú–î–Ü –†–ê–°–¢–ê–£
        function markOrderPaid(orderId) {
            if (confirm('–¢–∞–ø—Å—ã—Ä—ã—Å —Ç”©–ª–µ–Ω–≥–µ–Ω—ñ–Ω —Ä–∞—Å—Ç–∞–π—Å—ã–∑ –±–∞?')) {
                orders = orders.filter(order => order.id !== orderId);
                localStorage.setItem('asxana_orders', JSON.stringify(orders));
                loadCashierPanel();
                showNotification('–¢”©–ª–µ–º —Ä–∞—Å—Ç–∞–ª–¥—ã!');
            }
        }

        // –ü–ê–†–û–õ–¨–î–Ü ”®–ó–ì–ï–†–¢–£
        function changePassword() {
            const newPassword = prompt('–ñ–∞“£–∞ –ø–∞—Ä–æ–ª—å–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:');
            if (newPassword && newPassword.length >= 4) {
                const oldPassword = prompt('–ï—Å–∫—ñ –ø–∞—Ä–æ–ª—å–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:');
                if (oldPassword !== passwords.admin) {
                    alert('–ï—Å–∫—ñ –ø–∞—Ä–æ–ª—å –¥“±—Ä—ã—Å –µ–º–µ—Å!');
                    return;
                }
                
                passwords.admin = newPassword;
                localStorage.setItem('asxana_passwords', JSON.stringify(passwords));
                alert('–ü–∞—Ä–æ–ª—å —Å”ô—Ç—Ç—ñ ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ!');
            } else {
                alert('–ü–∞—Ä–æ–ª—å –∫–µ–º—ñ–Ω–¥–µ 4 —Ç–∞“£–±–∞–¥–∞–Ω —Ç“±—Ä—É—ã –∫–µ—Ä–µ–∫!');
            }
        }

        // –®–´“í–£ –§–£–ù–ö–¶–ò–Ø–°–´
        function logout() {
            document.querySelectorAll('.panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById('loginPanel').classList.add('active');
            currentCart = [];
            updateCustomerCart();
            currentSelectedRole = null;
        }

        // –ö”®–ú–ï–ö–®–Ü –§–£–ù–ö–¶–ò–Ø–õ–ê–†
        function getStatusText(status) {
            const statuses = {
                'pending': '‚è≥ –ö“Ø—Ç—ñ–ª—É–¥–µ',
                'cooking': 'üë®‚Äçüç≥ –î–∞–π—ã–Ω–¥–∞–ª—É–¥–∞', 
                'ready': '‚úÖ –î–∞–π—ã–Ω'
            };
            return statuses[status] || status;
        }

        function getRoleName(role) {
            const roleNames = {
                'cashier': 'üí∞ –ö–∞—Å—Å–∏—Ä',
                'chef': 'üë®‚Äçüç≥ –ê—Å–ø–∞–∑', 
                'admin': '‚öôÔ∏è ”ò–∫—ñ–º—à—ñ'
            };
            return roleNames[role] || role;
        }

        function handlePasswordEnter(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        }

        function cancelLogin() {
            document.getElementById('passwordSection').style.display = 'none';
            currentSelectedRole = null;
        }

        // –ë–ê–°–¢–ê–ü“ö–´ –ñ“Æ–ö–¢–ï–£
        document.addEventListener('DOMContentLoaded', function() {
            loadInitialData();
            console.log('–ê—Å—Ö–∞–Ω–∞ –∂“Ø–π–µ—Å—ñ –∂“Ø–∫—Ç–µ–ª–¥—ñ!');
        });
    </script>
</body>
</html>
